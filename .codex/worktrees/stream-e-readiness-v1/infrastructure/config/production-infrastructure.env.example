# ===========================================
# 生产基础设施连接配置
# ===========================================
# 集成总指挥 - 真实基础设施连接配置
# 用于连接Engineer C部署的真实Redis和PostgreSQL实例

# ===========================================
# 基础环境配置
# ===========================================
NODE_ENV=production
PORT=8001

# ===========================================
# 真实Redis配置
# ===========================================
# 连接到Engineer C部署的Redis实例
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGEME
REDIS_DB=0
REDIS_URL=redis://:CHANGEME@localhost:6379/0

# Redis连接池配置
REDIS_MAX_CONNECTIONS=20
REDIS_MIN_CONNECTIONS=5
REDIS_CONNECTION_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000

# ===========================================
# 真实PostgreSQL配置
# ===========================================
# 连接到Engineer C部署的PostgreSQL实例
DATABASE_URL=postgresql://USER:CHANGEME@localhost:5432/DBNAME
DB_HOST=localhost
DB_PORT=5432
DB_USER=athlete_ally_user
DB_PASSWORD=CHANGEME
DB_NAME=athlete_ally_main

# 数据库连接池配置
DB_MAX_CONNECTIONS=20
DB_MIN_CONNECTIONS=5
DB_CONNECTION_TIMEOUT=10000
DB_QUERY_TIMEOUT=30000

# ===========================================
# 协议引擎专用配置
# ===========================================
PROTOCOL_DATABASE_URL=postgresql://USER:CHANGEME@localhost:5432/DBNAME
PROTOCOL_REDIS_URL=redis://:CHANGEME@localhost:6379/0

# ===========================================
# 缓存配置
# ===========================================
# 协议缓存配置
CACHE_PROTOCOL_SUMMARY_TTL=3600
CACHE_PROTOCOL_DETAILS_TTL=1800
CACHE_PROTOCOL_PERMISSIONS_TTL=900
CACHE_USER_PROTOCOLS_TTL=1800
CACHE_PUBLIC_PROTOCOLS_TTL=3600

# 缓存键前缀
CACHE_KEY_PREFIX=athlete_ally:protocol_engine:

# ===========================================
# 性能优化配置
# ===========================================
# 查询优化
QUERY_OPTIMIZATION_ENABLED=true
QUERY_CACHE_ENABLED=true
QUERY_CACHE_TTL=300

# 批量操作配置
BATCH_OPERATION_SIZE=100
BATCH_OPERATION_TIMEOUT=5000

# ===========================================
# 监控和日志配置
# ===========================================
# 性能监控
PERFORMANCE_MONITORING_ENABLED=true
QUERY_METRICS_ENABLED=true
CACHE_METRICS_ENABLED=true

# 日志级别
LOG_LEVEL=info
LOG_FORMAT=json

# ===========================================
# 安全配置
# ===========================================
# JWT配置
JWT_SECRET=CHANGEME
JWT_EXPIRES_IN=24h

# 加密配置
ENCRYPTION_KEY=CHANGEME
ENCRYPTION_ALGORITHM=aes-256-gcm

# ===========================================
# 服务发现配置
# ===========================================
# 服务端口
PROTOCOL_ENGINE_PORT=8001
CACHE_SERVICE_PORT=8002
OPTIMIZATION_SERVICE_PORT=8003

# 健康检查
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# ===========================================
# 测试环境配置
# ===========================================
# 测试数据库
TEST_DATABASE_URL=postgresql://USER:CHANGEME@localhost:5432/DBNAME
TEST_REDIS_URL=redis://:CHANGEME@localhost:6379/0

# 测试配置
TEST_MODE=false
TEST_DATA_CLEANUP=true
