# 代码评审模板 - 质量与集成负责人

## 🎯 评审目标
确保代码质量符合标准，可测试性充分，可观测性完整，业务逻辑健壮。

## 📋 评审检查清单

### 1. 可测试性评估

#### 单元测试覆盖
- [ ] 测试覆盖率 >= 80%
- [ ] 关键业务逻辑100%覆盖
- [ ] 边界条件测试充分
- [ ] 异常情况测试完整
- [ ] Mock和Stub使用合理

#### 集成测试覆盖
- [ ] API端点测试完整
- [ ] 数据库操作测试
- [ ] 外部服务集成测试
- [ ] 事件处理流程测试
- [ ] 错误处理路径测试

#### 测试质量
- [ ] 测试用例命名清晰
- [ ] 测试数据准备充分
- [ ] 测试断言准确
- [ ] 测试独立性保证
- [ ] 测试可维护性良好

### 2. 可观测性钩子评估

#### 指标暴露
- [ ] 业务指标完整暴露
- [ ] 技术指标覆盖全面
- [ ] 指标命名规范统一
- [ ] 指标标签使用合理
- [ ] 指标描述清晰准确

#### 日志记录
- [ ] 关键操作有日志记录
- [ ] 错误信息详细有用
- [ ] 日志级别使用合理
- [ ] 敏感信息已脱敏
- [ ] 日志格式统一规范

#### 追踪信息
- [ ] 请求追踪ID完整
- [ ] 跨服务追踪连续
- [ ] 业务上下文记录
- [ ] 性能数据收集
- [ ] 错误堆栈完整

#### 告警规则
- [ ] 关键指标有告警
- [ ] 告警阈值设置合理
- [ ] 告警级别分级正确
- [ ] 告警信息描述清晰
- [ ] 告警抑制规则合理

### 3. 业务逻辑健壮性评估

#### 错误处理
- [ ] 所有异常路径有处理
- [ ] 错误信息用户友好
- [ ] 错误日志记录完整
- [ ] 错误恢复机制合理
- [ ] 错误传播控制适当

#### 输入验证
- [ ] 输入参数验证充分
- [ ] 数据类型检查正确
- [ ] 边界值验证完整
- [ ] 恶意输入防护
- [ ] 验证错误信息清晰

#### 并发安全
- [ ] 共享资源访问安全
- [ ] 竞态条件已避免
- [ ] 锁机制使用正确
- [ ] 事务处理原子性
- [ ] 死锁风险已消除

#### 数据一致性
- [ ] 数据操作原子性
- [ ] 状态转换一致性
- [ ] 并发更新处理
- [ ] 数据完整性保证
- [ ] 回滚机制完善

### 4. 性能和质量评估

#### 性能考虑
- [ ] 算法复杂度合理
- [ ] 数据库查询优化
- [ ] 缓存使用适当
- [ ] 内存使用控制
- [ ] 资源释放及时

#### 安全性
- [ ] 敏感数据保护
- [ ] 权限控制正确
- [ ] 输入验证充分
- [ ] 输出编码安全
- [ ] 安全漏洞已修复

#### 可维护性
- [ ] 代码结构清晰
- [ ] 函数职责单一
- [ ] 命名规范统一
- [ ] 注释充分有用
- [ ] 文档更新及时

## 🔍 评审流程

### 1. 预评审检查
- [ ] 代码格式检查通过
- [ ] 类型检查通过
- [ ] 单元测试通过
- [ ] 集成测试通过
- [ ] 安全扫描通过

### 2. 详细评审
- [ ] 代码逻辑正确性
- [ ] 架构设计合理性
- [ ] 性能影响评估
- [ ] 安全风险评估
- [ ] 可维护性评估

### 3. 质量门禁
- [ ] 代码覆盖率达标
- [ ] 性能指标满足
- [ ] 安全标准符合
- [ ] 文档完整性
- [ ] 测试覆盖充分

## 📊 评审结果

### 评审等级
- **A级**: 优秀，可直接合并
- **B级**: 良好，建议优化后合并
- **C级**: 一般，需要修改后重新评审
- **D级**: 不合格，需要重大修改

### 评审意见
**优点**:
- 列出代码的优点和亮点

**问题**:
- 列出发现的问题和风险

**建议**:
- 提供改进建议和最佳实践

**要求**:
- 明确必须修改的问题

## 🚀 后续行动

### 必须修改
- [ ] 列出必须修改的问题
- [ ] 设置修改截止时间
- [ ] 安排重新评审时间

### 建议优化
- [ ] 列出建议优化的问题
- [ ] 提供优化指导
- [ ] 跟踪优化进度

### 学习分享
- [ ] 识别可分享的最佳实践
- [ ] 整理学习要点
- [ ] 更新团队知识库

---

**质量与集成负责人评审完成** ✅

确保代码质量，建立高质量文化！
