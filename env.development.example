# 🏃‍♂️ Athlete Ally 开发环境配置模板
# 作者: 后端团队
# 版本: 1.0.0
# 使用方法: 复制此文件为 .env.development 并填入实际值

# ===========================================
# 基础配置
# ===========================================
NODE_ENV=development
NODE_VERSION=18.20.4

# ===========================================
# 服务端口配置
# ===========================================
# 前端服务
PORT=3000
# Client-side API base URL used by Next and the browser
NEXT_PUBLIC_API_BASE_URL=http://localhost:4000
# Legacy alias (kept for compatibility)
NEXT_PUBLIC_API_URL=http://localhost:4000

# 网关服务
GATEWAY_BFF_PORT=4000

# 微服务端口
PROFILE_ONBOARDING_PORT=4101
PLANNING_ENGINE_PORT=4102
EXERCISES_PORT=4103
FATIGUE_PORT=4104
WORKOUTS_PORT=4105
ANALYTICS_PORT=4106

# ===========================================
# 数据库配置
# ===========================================
# PostgreSQL 主数据库
DATABASE_URL=postgresql://athlete:athlete@localhost:5432/athlete_ally
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=athlete
POSTGRES_PASSWORD=athlete
POSTGRES_DB=athlete

# 服务专用数据库
PROFILE_DATABASE_URL=postgresql://athlete:athlete@localhost:5432/athlete_profile
PLANNING_DATABASE_URL=postgresql://athlete:athlete@localhost:5432/athlete_planning
EXERCISES_DATABASE_URL=postgresql://athlete:athlete@localhost:5432/athlete_exercises
FATIGUE_DATABASE_URL=postgresql://athlete:athlete@localhost:5432/athlete_fatigue
WORKOUTS_DATABASE_URL=postgresql://athlete:athlete@localhost:5432/athlete_workouts
ANALYTICS_DATABASE_URL=postgresql://athlete:athlete@localhost:5432/athlete_analytics

# ===========================================
# 缓存和消息队列
# ===========================================
# Redis 配置
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379

# NATS 消息队列
NATS_URL=nats://localhost:4222
NATS_HOST=localhost
NATS_PORT=4222

# ===========================================
# 外部服务配置
# ===========================================
# OpenAI API
OPENAI_API_KEY=your_openai_api_key_here

# ===========================================
# 监控和可观测性
# ===========================================
# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3001
GF_SECURITY_ADMIN_PASSWORD=admin123

# Jaeger
JAEGER_PORT=16686

# ===========================================
# 安全配置
# ===========================================
# JWT 密钥
JWT_SECRET=your_jwt_secret_here
JWT_EXPIRES_IN=24h

# 加密密钥
ENCRYPTION_KEY=your_encryption_key_here

# ===========================================
# 开发工具配置
# ===========================================
# 调试模式
DEBUG=athlete-ally:*
LOG_LEVEL=debug

# 热重载
WATCH_MODE=true
HOT_RELOAD=true

OURA_WEBHOOK_SECRET=change-me


OURA_IDEMPOTENCY_TTL_SECONDS=600

