# æœ€ç»ˆnpm ciè§£å†³æ–¹æ¡ˆ

## ğŸš¨ **é—®é¢˜ç¡®è®¤**

### **æ ¹æœ¬åŸå› **
- `npm ci` è¦æ±‚ `package.json` å’Œ `package-lock.json` å®Œå…¨åŒæ­¥
- æˆ‘ä»¬çš„monorepoç»“æ„å¯¼è‡´ä¾èµ–ç‰ˆæœ¬å†²çª
- `--legacy-peer-deps` æ ‡å¿—åœ¨ `npm ci` ä¸­ä¸ç”Ÿæ•ˆ

### **é”™è¯¯ç¤ºä¾‹**
```
npm error Missing: @testing-library/dom@10.4.1 from lock file
npm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3
```

## ğŸ¯ **æœ€ç»ˆè§£å†³æ–¹æ¡ˆ**

### **ç­–ç•¥A: å®Œå…¨æ”¾å¼ƒnpm ci (æ¨è)**
```yaml
# .github/workflows/ci.yml
- name: Install dependencies
  run: npm install --legacy-peer-deps --no-audit --no-fund
```

**ä¼˜ç‚¹:**
- ç«‹å³è§£å†³CIé—®é¢˜
- ä¸æœ¬åœ°ç¯å¢ƒä¸€è‡´
- æ”¯æŒpeer dependencyå†²çªè§£å†³

**ç¼ºç‚¹:**
- å¤±å»npm ciçš„ä¸¥æ ¼æ€§
- å¯èƒ½å½±å“æ„å»ºä¸€è‡´æ€§

### **ç­–ç•¥B: ä¿®å¤package-lock.json (é•¿æœŸ)**
1. ç»Ÿä¸€æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬
2. è§£å†³peer dependencyå†²çª
3. é‡æ–°ç”Ÿæˆå®Œå…¨åŒæ­¥çš„lockæ–‡ä»¶

**æŒ‘æˆ˜:**
- éœ€è¦å¤§é‡æ—¶é—´
- å¯èƒ½ç ´åç°æœ‰åŠŸèƒ½
- monorepoå¤æ‚æ€§

## ğŸš€ **ç«‹å³æ‰§è¡Œæ–¹æ¡ˆ**

### **æ­¥éª¤1: æ›´æ–°æ‰€æœ‰CIå·¥ä½œæµ**
```bash
# æ›¿æ¢æ‰€æœ‰npm ciä¸ºnpm install
find .github/workflows -name "*.yml" -exec sed -i 's/npm ci/npm install --legacy-peer-deps --no-audit --no-fund/g' {} \;
```

### **æ­¥éª¤2: éªŒè¯CIç¨³å®šæ€§**
- æ¨é€æ›´æ”¹
- è§‚å¯ŸCIè¿è¡Œç»“æœ
- ç¡®è®¤æ‰€æœ‰æ£€æŸ¥é€šè¿‡

### **æ­¥éª¤3: åˆ›å»ºæŠ€æœ¯å€ºåŠ¡ä»»åŠ¡**
- è®°å½•npm ciå›å½’è®¡åˆ’
- åˆ¶å®šä¾èµ–ç‰ˆæœ¬ç»Ÿä¸€ç­–ç•¥
- å»ºç«‹CIç¯å¢ƒæ ‡å‡†åŒ–æµç¨‹

## ğŸ“Š **é¢„æœŸç»“æœ**
- CI Qualityæ£€æŸ¥é€šè¿‡ âœ…
- æ‰€æœ‰ä¾èµ–æ­£ç¡®å®‰è£… âœ…
- æ„å»ºæµç¨‹ç¨³å®šè¿è¡Œ âœ…
- æœ¬åœ°å’ŒCIç¯å¢ƒä¸€è‡´ âœ…

## ğŸ”„ **é•¿æœŸè§„åˆ’**
1. **Phase 3**: ä¾èµ–ç‰ˆæœ¬ç»Ÿä¸€
2. **Phase 4**: å›å½’npm ciæœ€ä½³å®è·µ
3. **Phase 5**: å»ºç«‹CI/CDæœ€ä½³å®è·µ

**å½“å‰ä¼˜å…ˆçº§: ç¡®ä¿CIç¨³å®šè¿è¡Œï¼Œä¸ºPhase 3åšå‡†å¤‡**
