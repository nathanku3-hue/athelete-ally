# Release v0.2.0-alpha — Phase 2: Magic Slice Alpha

Date: $(date -u +"%Y-%m-%d %H:%M UTC")

Summary
- Core async flow delivered: Profile Onboarding → NATS → Planning Engine with plan generation queue + status polling
- Gateway‑BFF rebuilt with secure CORS, unified `/api/v1/*` surface and downstream proxies
- Frontend polish: PlanFeedbackPanel refactor for performance and accessibility
- Stability: E2E test for onboarding → plan generation → status
- Operability: Monitoring runbook finalized (Prometheus, Grafana, Jaeger)

Details
- Gateway‑BFF
  - CORS allowlist (CORS_ALLOWED_ORIGINS), auth middleware first, rate limiting (user + strict endpoints)
  - Swagger at `/api/docs`, health at `/api/health`
  - Proxies:
    - POST `/api/v1/onboarding` → profile-onboarding
    - POST `/api/v1/plans/generate`, GET `/api/v1/plans/status` → planning-engine
    - GET `/api/v1/exercises`, GET `/api/v1/exercises/:id` → exercises
    - Sessions + workout summary → workouts
- Services
  - profile-onboarding publishes onboarding_completed via @athlete-ally/event-bus
  - planning-engine uses shared EventBus for subscribe/publish
- Frontend
  - Authorization forwarded globally in `trainingAPI` + onboarding submit
  - Refactored PlanFeedbackPanel; Next rewrites prefer `NEXT_PUBLIC_API_BASE_URL`
- Tests
  - E2E test `src/__tests__/e2e/onboarding-plan.e2e.test.ts`
- Monitoring
  - Runbook with target verification, tracing checks, and troubleshooting

Upgrade Notes
- Set `NEXT_PUBLIC_API_BASE_URL` (dev default http://localhost:4000)
- Ensure NATS/Redis/Prometheus/Grafana/Jaeger available for full telemetry

Verification
- Submit `/api/v1/onboarding` (with Authorization)
- Trigger `/api/v1/plans/generate` → receive `jobId`
- Poll `/api/v1/plans/status?jobId=...`
- Check Prometheus targets, Jaeger traces for end-to-end flow

