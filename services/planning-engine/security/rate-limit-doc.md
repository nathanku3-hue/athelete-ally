
# 速率限制配置文档

## 配置的速率限制

### 1. 基础速率限制
- **窗口**: 15分钟
- **限制**: 100个请求/IP
- **用途**: 一般API端点

### 2. 严格速率限制
- **窗口**: 5分钟
- **限制**: 20个请求/IP
- **用途**: 敏感操作

### 3. 登录速率限制
- **窗口**: 15分钟
- **限制**: 5次登录尝试/IP
- **用途**: 登录端点

### 4. API速率限制
- **窗口**: 1分钟
- **限制**: 60个API请求/IP
- **用途**: API端点

### 5. 慢速限制
- **窗口**: 15分钟
- **延迟开始**: 50个请求后
- **延迟时间**: 500ms/请求
- **用途**: 防止滥用

### 6. 动态速率限制
- **爬虫**: 10个请求/分钟
- **普通用户**: 100个请求/15分钟
- **用途**: 智能限制

### 7. IP基础速率限制
- **内网IP**: 200个请求/15分钟
- **外网IP**: 100个请求/15分钟
- **用途**: 区分内外部访问

### 8. 用户基础速率限制
- **高级用户**: 500个请求/15分钟
- **验证用户**: 200个请求/15分钟
- **普通用户**: 100个请求/15分钟
- **用途**: 基于用户等级

## 使用方法

1. 导入速率限制中间件
2. 在Express应用中应用中间件
3. 运行速率限制测试验证配置

## 测试命令

```bash
node security/rate-limit-test.js
```

## 注意事项

1. 根据实际需求调整限制参数
2. 监控速率限制效果
3. 定期更新限制策略
4. 测试所有端点确保兼容性
