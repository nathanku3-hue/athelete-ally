# Normalize Service - Local Development Environment Template
# Copy this file to .env and adjust as needed

# Database connection (local PostgreSQL on mapped port)
# For local dev: Use localhost:55432 (Docker host port mapping)
# For Docker: Use postgres:5432 (internal Docker network)
DATABASE_URL=postgresql://athlete:athlete@localhost:55432/athlete_normalize

# NATS connection (local NATS on mapped port)
# For local dev: Use localhost:4223 (Docker host port mapping)
# For Docker: Use nats:4223 (internal Docker network)
NATS_URL=nats://localhost:4223

# Service configuration
NODE_ENV=development
PORT=4102

# HRV Consumer configuration
NORMALIZE_HRV_DURABLE=normalize-hrv-durable
NORMALIZE_HRV_MAX_DELIVER=5
NORMALIZE_HRV_DLQ_SUBJECT=dlq.vendor.oura.webhook
NORMALIZE_HRV_ACK_WAIT_MS=30000

# Oura Consumer configuration (legacy)
NORMALIZE_DURABLE_NAME=normalize-oura
NORMALIZE_OURA_MAX_DELIVER=5
NORMALIZE_DLQ_SUBJECT=dlq.vendor.oura.webhook
NORMALIZE_OURA_ACK_WAIT_MS=15000
NORMALIZE_OURA_BACKOFF_MS=250,1000,5000

# Telemetry configuration
TELEMETRY_ENABLED=false
OTEL_TRACES_EXPORTER=none
OTEL_METRICS_EXPORTER=prometheus
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
PROMETHEUS_PORT=9464
