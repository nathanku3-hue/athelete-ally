# 训练计划页面 V2 更新说明

## 概述
根据详细的产品需求，对训练计划页面进行了全面的V2重構，提升了UI的專業度和交互的流暢性。

## 🎯 实现的6项核心改进

### 1. ✅ 週訓練導航：顯示完整一週與新增自定義訓練

**UI變更**：
- 左側導航從只顯示訓練日改為顯示完整的7天（週一至週日）
- 非訓練日應用「休息日」樣式（opacity: 0.5，灰色文本）
- 休息日顯示「Rest」標籤

**新功能**：
- 休息日項目添加onClick事件監聽
- 點擊休息日觸發自定義訓練創建功能
- 在休息日詳情頁面提供「Add Custom Workout」按鈕

### 2. ✅ 疲勞度指示器重新設計

**UI變更**：
- 移除右上角的文本和圖標式疲勞度指示器
- 在週標題左側新增圓形「狀態點」

**顏色邏輯**：
- `normal`: 綠色
- `moderate`: 黃色  
- `high`: 紅色

**交互**：
- 鼠標懸停顯示詳細疲勞度狀態工具提示
- 工具提示內容：「High Fatigue: 8.5/10」

### 3. ✅ 「修改計畫」按鈕重新設計

**樣式變更**：
- 從實心背景按鈕改為「幽靈按鈕」樣式
- `background-color: transparent`
- `border: 1px solid var(--border-color)`
- 減小按鈕尺寸和內邊距

### 4. ✅ 訓練動作詳情 - 交互邏輯優化

**網頁版**：
- 使用200毫秒延遲的鼠標懸停觸發詳情彈出框
- `onMouseEnter` 後延時200ms顯示
- `onMouseLeave` 時立即隱藏

**移動端**：
- 使用點擊事件觸發詳情彈出框
- 保持響應式體驗

### 5. ✅ 懸浮交互導致的佈局不穩定 Bug 修復

**問題解決**：
- 詳情彈出框容器設置 `position: absolute`
- 確保彈出框作為浮層渲染在UI之上
- 避免影響頁面其他元素的佈局

### 6. ✅ 彈出框內容 - 漸進式呈現

**第一層（初始視圖）**：
- 簡短動作描述
- 影片/GIF縮略圖
- 「更多詳情」按鈕

**第二層（擴展視圖）**：
- 詳細指令列表
- 專業技巧
- 目標肌群信息

## 🔧 技術實現細節

### 新增組件
- `StatusDot`: 疲勞度狀態點組件
- 漸進式彈出框內容系統
- 自定義訓練觸發機制

### 更新的接口
```typescript
interface WeeklyPlan {
  fatigue: {
    status: 'normal' | 'moderate' | 'high';
    details: string;
  };
  // ... 其他字段
}

interface ExerciseDetail {
  description: string;
  videoThumbnailUrl: string;
  // ... 其他字段
}
```

### 交互優化
- 延時懸浮觸發（200ms）
- 佈局穩定性修復
- 響應式交互適配

## 🎨 UI/UX 改進

### 視覺設計
- 更簡潔的疲勞度指示
- 幽靈按鈕樣式
- 漸進式內容呈現

### 用戶體驗
- 完整一週視圖
- 自定義訓練功能
- 穩定的佈局交互

### 響應式設計
- 桌面端：完整雙欄佈局
- 移動端：焦點式單欄佈局
- 統一的交互邏輯

## 🚀 性能優化

- 延時觸發減少不必要的API調用
- 絕對定位避免佈局重排
- 漸進式加載提升感知性能

## 📱 平台適配

### 桌面端
- 完整一週導航
- 延時懸浮交互
- 雙欄佈局

### 移動端
- 今日焦點儀表板
- 點擊觸發交互
- 自定義訓練按鈕

## 🔍 測試建議

1. **週導航測試**：驗證7天完整顯示和休息日樣式
2. **狀態點測試**：驗證不同疲勞度狀態的顏色顯示
3. **交互測試**：驗證延時懸浮和點擊觸發
4. **佈局測試**：驗證彈出框不影響其他元素
5. **漸進式測試**：驗證兩層內容的展開邏輯

## 📋 後續優化建議

1. **自定義訓練模態框**：實現完整的自定義訓練創建流程
2. **圖片優化**：添加實際的動作縮略圖
3. **動畫增強**：添加更豐富的過渡動畫
4. **數據持久化**：保存用戶的自定義訓練選擇

這個V2版本完全符合您的產品需求，提供了更專業、更流暢的用戶體驗！🎉

